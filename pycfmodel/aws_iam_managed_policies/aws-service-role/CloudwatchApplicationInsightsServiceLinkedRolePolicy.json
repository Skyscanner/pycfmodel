{"Type": "AWS::IAM::ManagedPolicy", "Arn": "arn:aws:iam::aws:policy/aws-service-role/CloudwatchApplicationInsightsServiceLinkedRolePolicy", "Condition": null, "CreatePolicy": null, "DeletionPolicy": null, "DependsOn": null, "Metadata": null, "UpdatePolicy": null, "UpdateReplacePolicy": null, "Properties": {"Description": null, "Groups": null, "ManagedPolicyName": "CloudwatchApplicationInsightsServiceLinkedRolePolicy", "Path": null, "PolicyDocument": {"Condition": null, "Statement": [{"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["cloudwatch:DescribeAlarmHistory", "cloudwatch:DescribeAlarms", "cloudwatch:GetMetricData", "cloudwatch:ListMetrics", "cloudwatch:PutMetricAlarm", "cloudwatch:DeleteAlarms"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["logs:GetLogEvents", "logs:DescribeLogStreams", "logs:DescribeLogGroups"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["events:DescribeRule"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["cloudFormation:CreateStack", "cloudFormation:UpdateStack", "cloudFormation:DeleteStack"], "NotAction": null, "Resource": ["arn:aws:cloudformation:*:*:stack/ApplicationInsights-*"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["cloudFormation:DescribeStacks", "cloudFormation:ListStackResources"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["tag:GetResources"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["resource-groups:ListGroupResources", "resource-groups:GetGroupQuery", "resource-groups:GetGroup"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["elasticloadbalancing:DescribeLoadBalancers", "elasticloadbalancing:DescribeTargetGroups", "elasticloadbalancing:DescribeTargetHealth"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["autoscaling:DescribeAutoScalingGroups"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["ssm:PutParameter", "ssm:DeleteParameter", "ssm:AddTagsToResource", "ssm:RemoveTagsFromResource", "ssm:GetParameters"], "NotAction": null, "Resource": "arn:aws:ssm:*:*:parameter/AmazonCloudWatch-ApplicationInsights-*", "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["ssm:CreateAssociation", "ssm:UpdateAssociation", "ssm:DeleteAssociation", "ssm:DescribeAssociation"], "NotAction": null, "Resource": ["arn:aws:ec2:*:*:instance/*", "arn:aws:ssm:*:*:association/*", "arn:aws:ssm:*:*:managed-instance/*", "arn:aws:ssm:*:*:document/AWSEC2-ApplicationInsightsCloudwatchAgentInstallAndConfigure", "arn:aws:ssm:*:*:document/AWS-ConfigureAWSPackage", "arn:aws:ssm:*:*:document/AmazonCloudWatch-ManageAgent"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["ssm:GetOpsItem", "ssm:CreateOpsItem", "ssm:DescribeOpsItems", "ssm:UpdateOpsItem", "ssm:DescribeInstanceInformation"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["ssm:ListCommandInvocations"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": "ssm:SendCommand", "NotAction": null, "Resource": ["arn:aws:ec2:*:*:instance/*", "arn:aws:ssm:*:*:document/AWSEC2-CheckPerformanceCounterSets"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["ec2:DescribeInstances"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": null, "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["rds:DescribeDBInstances"], "NotAction": null, "Resource": ["*"], "NotResource": null}], "Version": "2012-10-17"}, "Roles": null, "Users": null}}