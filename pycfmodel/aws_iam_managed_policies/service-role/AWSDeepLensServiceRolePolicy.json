{"Type": "AWS::IAM::ManagedPolicy", "Arn": "arn:aws:iam::aws:policy/service-role/AWSDeepLensServiceRolePolicy", "Condition": null, "CreatePolicy": null, "DeletionPolicy": null, "DependsOn": null, "Metadata": null, "UpdatePolicy": null, "UpdateReplacePolicy": null, "Properties": {"Description": null, "Groups": null, "ManagedPolicyName": "AWSDeepLensServiceRolePolicy", "Path": null, "PolicyDocument": {"Condition": null, "Statement": [{"Condition": null, "Sid": "DeepLensIoTThingAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["iot:CreateThing", "iot:DeleteThing", "iot:DeleteThingShadow", "iot:DescribeThing", "iot:GetThingShadow", "iot:UpdateThing", "iot:UpdateThingShadow"], "NotAction": null, "Resource": ["arn:aws:iot:*:*:thing/deeplens*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensIoTCertificateAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["iot:AttachThingPrincipal", "iot:DetachThingPrincipal", "iot:UpdateCertificate", "iot:DeleteCertificate", "iot:DetachPrincipalPolicy"], "NotAction": null, "Resource": ["arn:aws:iot:*:*:thing/deeplens*", "arn:aws:iot:*:*:cert/*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensIoTCreateCertificateAndPolicyAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["iot:CreateKeysAndCertificate", "iot:CreatePolicy", "iot:CreatePolicyVersion"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensIoTAttachCertificatePolicyAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["iot:AttachPrincipalPolicy"], "NotAction": null, "Resource": ["arn:aws:iot:*:*:policy/deeplens*", "arn:aws:iot:*:*:cert/*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensIoTDataAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["iot:GetThingShadow", "iot:UpdateThingShadow"], "NotAction": null, "Resource": ["arn:aws:iot:*:*:thing/deeplens*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensIoTEndpointAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["iot:DescribeEndpoint"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["deeplens:*"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensS3ObjectAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["s3:GetObject"], "NotAction": null, "Resource": ["arn:aws:s3:::deeplens*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensS3Buckets", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["s3:DeleteBucket", "s3:ListBucket"], "NotAction": null, "Resource": ["arn:aws:s3:::deeplens*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensCreateS3Buckets", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["s3:CreateBucket"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": {"StringEquals": {"iam:PassedToService": ["greengrass.amazonaws.com", "sagemaker.amazonaws.com"]}}, "Sid": "DeepLensIAMPassRoleAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["iam:PassRole"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": {"StringEqualsIfExists": {"iam:PassedToService": "lambda.amazonaws.com"}}, "Sid": "DeepLensIAMLambdaPassRoleAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["iam:PassRole"], "NotAction": null, "Resource": ["arn:aws:iam::*:role/AWSDeepLens*", "arn:aws:iam::*:role/service-role/AWSDeepLens*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensGreenGrassAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["greengrass:AssociateRoleToGroup", "greengrass:AssociateServiceRoleToAccount", "greengrass:CreateResourceDefinition", "greengrass:CreateResourceDefinitionVersion", "greengrass:CreateCoreDefinition", "greengrass:CreateCoreDefinitionVersion", "greengrass:CreateDeployment", "greengrass:CreateFunctionDefinition", "greengrass:CreateFunctionDefinitionVersion", "greengrass:CreateGroup", "greengrass:CreateGroupCertificateAuthority", "greengrass:CreateGroupVersion", "greengrass:CreateLoggerDefinition", "greengrass:CreateLoggerDefinitionVersion", "greengrass:CreateSubscriptionDefinition", "greengrass:CreateSubscriptionDefinitionVersion", "greengrass:DeleteCoreDefinition", "greengrass:DeleteFunctionDefinition", "greengrass:DeleteGroup", "greengrass:DeleteLoggerDefinition", "greengrass:DeleteSubscriptionDefinition", "greengrass:DisassociateRoleFromGroup", "greengrass:DisassociateServiceRoleFromAccount", "greengrass:GetAssociatedRole", "greengrass:GetConnectivityInfo", "greengrass:GetCoreDefinition", "greengrass:GetCoreDefinitionVersion", "greengrass:GetDeploymentStatus", "greengrass:GetDeviceDefinition", "greengrass:GetDeviceDefinitionVersion", "greengrass:GetFunctionDefinition", "greengrass:GetFunctionDefinitionVersion", "greengrass:GetGroup", "greengrass:GetGroupCertificateAuthority", "greengrass:GetGroupCertificateConfiguration", "greengrass:GetGroupVersion", "greengrass:GetLoggerDefinition", "greengrass:GetLoggerDefinitionVersion", "greengrass:GetResourceDefinition", "greengrass:GetServiceRoleForAccount", "greengrass:GetSubscriptionDefinition", "greengrass:GetSubscriptionDefinitionVersion", "greengrass:ListCoreDefinitionVersions", "greengrass:ListCoreDefinitions", "greengrass:ListDeployments", "greengrass:ListDeviceDefinitionVersions", "greengrass:ListDeviceDefinitions", "greengrass:ListFunctionDefinitionVersions", "greengrass:ListFunctionDefinitions", "greengrass:ListGroupCertificateAuthorities", "greengrass:ListGroupVersions", "greengrass:ListGroups", "greengrass:ListLoggerDefinitionVersions", "greengrass:ListLoggerDefinitions", "greengrass:ListSubscriptionDefinitionVersions", "greengrass:ListSubscriptionDefinitions", "greengrass:ResetDeployments", "greengrass:UpdateConnectivityInfo", "greengrass:UpdateCoreDefinition", "greengrass:UpdateDeviceDefinition", "greengrass:UpdateFunctionDefinition", "greengrass:UpdateGroup", "greengrass:UpdateGroupCertificateConfiguration", "greengrass:UpdateLoggerDefinition", "greengrass:UpdateSubscriptionDefinition", "greengrass:UpdateResourceDefinition"], "NotAction": null, "Resource": ["*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensLambdaAdminFunctionAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["lambda:CreateFunction", "lambda:DeleteFunction", "lambda:GetFunction", "lambda:GetFunctionConfiguration", "lambda:ListFunctions", "lambda:ListVersionsByFunction", "lambda:PublishVersion", "lambda:UpdateFunctionCode", "lambda:UpdateFunctionConfiguration"], "NotAction": null, "Resource": ["arn:aws:lambda:*:*:function:deeplens*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensLambdaUsersFunctionAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["lambda:GetFunction", "lambda:GetFunctionConfiguration", "lambda:ListFunctions", "lambda:ListVersionsByFunction"], "NotAction": null, "Resource": ["arn:aws:lambda:*:*:function:*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensSageMakerWriteAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["sagemaker:CreateTrainingJob", "sagemaker:DescribeTrainingJob", "sagemaker:StopTrainingJob"], "NotAction": null, "Resource": ["arn:aws:sagemaker:*:*:training-job/deeplens*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensSageMakerReadAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["sagemaker:DescribeTrainingJob"], "NotAction": null, "Resource": ["arn:aws:sagemaker:*:*:training-job/*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensKinesisVideoStreamAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["kinesisvideo:CreateStream", "kinesisvideo:DescribeStream", "kinesisvideo:DeleteStream"], "NotAction": null, "Resource": ["arn:aws:kinesisvideo:*:*:stream/deeplens*/*"], "NotResource": null}, {"Condition": null, "Sid": "DeepLensKinesisVideoEndpointAccess", "Effect": "Allow", "Principal": null, "NotPrincipal": null, "Action": ["kinesisvideo:GetDataEndpoint"], "NotAction": null, "Resource": ["*"], "NotResource": null}], "Version": "2012-10-17"}, "Roles": null, "Users": null}}